(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{119:function(e,t){e.exports="data:image/png;base64,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"},123:function(e,t,n){e.exports=n(261)},155:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(41),l=n.n(c),u=n(269),o=n(271),i=n(272);var m=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Login Page"))};var s=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Signup Page"))},E=n(270),f=n(268);var p=function(){return r.a.createElement(E.a,{variant:"pills",activeKey:"1"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Sn\xfcze"),r.a.createElement(f.a,{title:"Me",id:"nav-dropdown"},r.a.createElement(f.a.Item,{href:"/mybed"},"MyBed"),r.a.createElement(f.a.Divider,null),r.a.createElement(f.a.Item,{href:"/survey"},"Survey"),r.a.createElement(f.a.Item,{href:"/journal"},"Journal"),r.a.createElement(f.a.Item,{href:"/stats"},"Stats"),r.a.createElement(f.a.Item,{href:"/tools"},"Tools")),r.a.createElement(E.a.Item,null,r.a.createElement(E.a.Link,{href:"/resources",title:"Resources"},"Resources")),r.a.createElement(E.a.Item,null,r.a.createElement(E.a.Link,{href:"Community",title:"Community"},"Community")),r.a.createElement(E.a.Item,null,r.a.createElement(E.a.Link,{href:"/logout",title:"Logout"},"Logout")))};var h=function(e){var t=e.children;return r.a.createElement("div",{style:{height:300,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron"},t)};var A=function(){return r.a.createElement(h,null,r.a.createElement("h1",null,"My Bed"))},d=n(10),b=n(18),v=n.n(b),g=function(){return v.a.get("/api/survey")};var k=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)(new Date),l=Object(d.a)(c,2),u=(l[0],l[1],Object(a.useState)({date:"",bedtime:"",wakeuptime:"",sleepquality:"",mood:"",notes:""})),o=Object(d.a)(u,2);function i(){g().then((function(e){return n(e.data)})).catch((function(e){return console.log(e)}))}return o[0],o[1],Object(a.useEffect)((function(){i()}),[]),r.a.createElement(h,null,r.a.createElement("h1",null,"Survey"))},B=(n(46),n(62),function(){return v.a.get("/api/journal")}),S=n(35),j=n.n(S),O=(n(155),n(119)),C=n.n(O);var y=function(){var e=Object(S.useSpeechRecognition)(),t=e.transcript,n=e.resetTranscript,c=Object(a.useState)(!1),l=Object(d.a)(c,2),u=l[0],o=l[1],i=Object(a.useRef)(null);if(!j.a.browserSupportsSpeechRecognition())return r.a.createElement("div",{className:"mircophone-container"},"Browser does not Support Speech Recognition.");var m=function(){o(!1),i.current.classList.remove("listening"),j.a.stopListening()};return r.a.createElement("div",{className:"microphone-wrapper"},r.a.createElement("div",{className:"mircophone-container"},r.a.createElement("div",{className:"microphone-icon-container",ref:i,onClick:function(){o(!0),i.current.classList.add("listening"),j.a.startListening({continuous:!0})}},r.a.createElement("img",{src:C.a,className:"microphone-icon"})),r.a.createElement("div",{className:"microphone-status"},u?"Listening.........":"Click to start Listening"),u&&r.a.createElement("button",{className:"microphone-stop btn",onClick:m},"Stop")),t&&r.a.createElement("div",{className:"microphone-result-container"},r.a.createElement("div",{className:"microphone-result-text"},t),r.a.createElement("button",{className:"microphone-reset btn",onClick:function(){m(),n()}},"Reset")))};var I=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)({title:"",body:"",date:""}),l=Object(d.a)(c,2);function u(){B().then((function(e){return n(e.data)})).catch((function(e){return console.log(e)}))}return l[0],l[1],Object(a.useEffect)((function(){u()}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Journal Page"),r.a.createElement(y,null))};var Q=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Stats Page"))};var N=function(){return r.a.createElement(h,null,r.a.createElement("h1",null,"Tools"))},w=n(31),R=n.n(w),L=n(120),F=function(e){var t=e.username,n=e.handleUsernameChange,a=e.roomName,c=e.handleRoomNameChange,l=e.handleSubmit;return r.a.createElement("form",{onSubmit:l},r.a.createElement("h2",null,"Enter a room"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{type:"text",id:"field",value:t,onChange:n,required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"room"},"Room name:"),r.a.createElement("input",{type:"text",id:"room",value:a,onChange:c,required:!0})),r.a.createElement("button",{type:"submit"},"Submit"))},P=n(34),U=n(121),Z=n.n(U),K=function(e){var t=e.participant,n=Object(a.useState)([]),c=Object(d.a)(n,2),l=c[0],u=c[1],o=Object(a.useState)([]),i=Object(d.a)(o,2),m=i[0],s=i[1],E=Object(a.useRef)(),f=Object(a.useRef)(),p=function(e){return Array.from(e.values()).map((function(e){return e.track})).filter((function(e){return null!==e}))};return Object(a.useEffect)((function(){u(p(t.videoTracks)),s(p(t.audioTracks));return t.on("trackSubscribed",(function(e){"video"===e.kind?u((function(t){return[].concat(Object(P.a)(t),[e])})):"audio"===e.kind&&s((function(t){return[].concat(Object(P.a)(t),[e])}))})),t.on("trackUnsubscribed",(function(e){"video"===e.kind?u((function(t){return t.filter((function(t){return t!==e}))})):"audio"===e.kind&&s((function(t){return t.filter((function(t){return t!==e}))}))})),function(){u([]),s([]),t.removeAllListeners()}}),[t]),Object(a.useEffect)((function(){var e=l[0];if(e)return e.attach(E.current),function(){e.detach()}}),[l]),Object(a.useEffect)((function(){var e=m[0];if(e)return e.attach(f.current),function(){e.detach()}}),[m]),r.a.createElement("div",{className:"participant"},r.a.createElement("h3",null,t.identity),r.a.createElement("video",{ref:E,autoPlay:!0}),r.a.createElement("audio",{ref:f,autoPlay:!0}))},J=function(e){var t=e.roomName,n=e.token,c=e.handleLogout,l=Object(a.useState)(null),u=Object(d.a)(l,2),o=u[0],i=u[1],m=Object(a.useState)([]),s=Object(d.a)(m,2),E=s[0],f=s[1];Object(a.useEffect)((function(){var e=function(e){f((function(t){return[].concat(Object(P.a)(t),[e])}))},a=function(e){f((function(t){return t.filter((function(t){return t!==e}))}))};return Z.a.connect(n,{name:t}).then((function(t){i(t),t.on("participantConnected",e),t.on("participantDisconnected",a),t.participants.forEach(e)})),function(){i((function(e){return e&&"connected"===e.localParticipant.state?(e.localParticipant.tracks.forEach((function(e){e.track.stop()})),e.disconnect(),null):e}))}}),[t,n]);var p=E.map((function(e){return r.a.createElement(K,{key:e.sid,participant:e})}));return r.a.createElement("div",{className:"room"},r.a.createElement("h2",null,"Room: ",t),r.a.createElement("button",{onClick:c},"Log out"),r.a.createElement("div",{className:"local-participant"},o?r.a.createElement(K,{key:o.localParticipant.sid,participant:o.localParticipant}):""),r.a.createElement("h3",null,"Remote Participants"),r.a.createElement("div",{className:"remote-participants"},p))},D=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),u=Object(d.a)(l,2),o=u[0],i=u[1],m=Object(a.useState)(""),s=Object(d.a)(m,2),E=s[0],f=s[1],p=Object(a.useCallback)((function(e){c(e.target.value)}),[]),h=Object(a.useCallback)((function(e){i(e.target.value)}),[]),A=Object(a.useCallback)(function(){var e=Object(L.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/video/token",{method:"POST",body:JSON.stringify({identity:n,room:o}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:a=e.sent,f(a.token);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,o]),b=Object(a.useCallback)((function(e){f(null)}),[]);return E?r.a.createElement(J,{roomName:o,token:E,handleLogout:b}):r.a.createElement(F,{username:n,roomName:o,handleUsernameChange:p,handleRoomNameChange:h,handleSubmit:A})},q=function(){return r.a.createElement("div",{className:"app"},r.a.createElement("main",null,r.a.createElement(D,null)))},T=function(){return r.a.createElement("main",null,r.a.createElement(q,null))};var x=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Resources Page"))};var z=function(){return r.a.createElement(h,null,r.a.createElement("h1",null,"404 Page Not Found"))};var X=function(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(o.a,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(m,null)),r.a.createElement(i.a,{exact:!0,path:"/signup"},r.a.createElement(s,null)),r.a.createElement(i.a,{exact:!0,path:"/mybed"},r.a.createElement(A,null)),r.a.createElement(i.a,{exact:!0,path:"/survey"},r.a.createElement(k,null)),r.a.createElement(i.a,{exact:!0,path:"/journal"},r.a.createElement(I,null)),r.a.createElement(i.a,{exact:!0,path:"/stats"},r.a.createElement(Q,null)),r.a.createElement(i.a,{exact:!0,path:"/tools"},r.a.createElement(N,null)),r.a.createElement(i.a,{exact:!0,path:"/community"},r.a.createElement(T,null)),r.a.createElement(i.a,{exact:!0,path:"/resources"},r.a.createElement(x,null)),r.a.createElement(i.a,null,r.a.createElement(z,null)))))};l.a.render(r.a.createElement(X,null),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.2537d227.chunk.js.map